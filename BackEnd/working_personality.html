<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

</head>

<body>

    <script>

        value1 = "Certified Project Manager with a Quant background, +8 years of experience in banking industry working on Market Risk Analytical Modeling & Projects on Trade Capture, Data Processing and Data Analysis for Risk, PnL, PLA and Market Data. Knowledgeable of financial principles, products, processes, systems and able to understand and communicate through analytical methods";
        value2 = "Certified Project Manager with a Quant background, +8 years of experience in banking industry working on Market Risk Analytical Modeling & Projects on Trade Capture, Data Processing and Data Analysis for Risk, PnL, PLA and Market Data. Knowledgeable of financial principles, products, processes, systems and able to understand and communicate through analytical methods";

        value = value1 + value2;

        var xhr = new XMLHttpRequest();
        // var authorizationBasic = Base64.encode('apikey' + ':' + 'MLb36RSwhGX9lUl9jAVnyXpcWaWNDJJ07PFtCKxC7xyX');
        username = 'apikey';
        password = 'CYm89ZJd1wyZaSdSrUYhBsbPcxLiGPMeLJJm6iwTSsM8';

        valueA = JSON.stringify({ text: value });


        $.ajax({
            // username: 'apikey',
            // password: 'CYm89ZJd1wyZaSdSrUYhBsbPcxLiGPMeLJJm6iwTSsM8',
            // apikey: 'CYm89ZJd1wyZaSdSrUYhBsbPcxLiGPMeLJJm6iwTSsM8',

            type: 'POST',
            url: 'https://gateway.watsonplatform.net/personality-insights/api/v3/profile',
            // contentType: 'application/json',
            // data: valueA,

            data: {
                language: 'en',
                source_type: 'text',
                accept_language: 'en',
                include_raw: 'false',
                consumption_preferences: 'true',
                text: value,
            },

            headers: {
                // contentType: 'application/x-www-form-urlencoded',
                "Authorization": "Basic " + btoa('apikey:CYm89ZJd1wyZaSdSrUYhBsbPcxLiGPMeLJJm6iwTSsM8'),
                // data: valueA

            },


            // contentType:'application/json',

            // username: 'apikey',
            // password: 'CYm89ZJd1wyZaSdSrUYhBsbPcxLiGPMeLJJm6iwTSsM8',


            // Authorization: "Basic " + btoa('apikey:CYm89ZJd1wyZaSdSrUYhBsbPcxLiGPMeLJJm6iwTSsM8'),
            crossOrigin: true,
            beforeSend: function (xhr) {
                // xhr.setRequestHeader('apikey', 'MLb36RSwhGX9lUl9jAVnyXpcWaWNDJJ07PFtCKxC7xyX')
                // xhr.setRequestHeader('Content-Type', 'application/json');
                // xhr.setRequestHeader("Authorization", "Basic " + btoa(username + ":" + password));
                // xhr.setRequestHeader('user', 'apikey:CYm89ZJd1wyZaSdSrUYhBsbPcxLiGPMeLJJm6iwTSsM8');
                // xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
                // xhr.setRequestHeader('Accept', 'text/javascript');
                // xhr.setRequestHeader('Accept', 'application/json');
                // xhr.setRequestHeader('Accept-Encoding', 'gzip');
                // xhr.setRequestHeader('Accept-Encoding', 'deflate');
                // xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

            },
            success: function (body) {
                console.log(body);

            },
            error: function (xhr) { // if error occured
                console.log(xhr);
            },
            // dataType: 'html'
        });


    </script>




</body>

</html>